# ostle_solver

https://gamemarket.jp/game/76310

※Ostle（オストル）は 雅ゲームスにより制作されたボードゲームです。当リポジトリと雅ゲームスとの関係はありません。

cf:
http://h1.hara.net.it-chiba.ac.jp/ostle/

- 対称な局面は同一視する。
- 手番側が即座に勝利できる局面までを含み、その手を指して勝利した後の局面は含めない。
- 手番側が即座に勝利できる局面では必ずそうするものとする。言い換えると、どこかで勝利を見逃さないと決して辿り着けないような局面は含めない。
-- これを含む条件で計算する機能もある。


ｶﾞﾊﾞｱﾙｶﾓ

###現状

unordered_setが実行時間の少なくとも4割を占めているっぽい。


### undo関数の必要性について

盤面pのポインタと指し手mを引数に取り、mを指して盤面をp'に更新する関数をdo関数と呼ぶ。逆に、p'のポインタとmを引数に取りp'をpに戻す関数をundo関数と呼ぶ。

将棋ソフトとかではこのように1個の盤面データを破壊的変更しながら探索するのが普通である。そのような方式を取る理由はそのほうが速いからだが、背景事情として(1) pのデータ構造が大きい (2) 手を指すことによる盤面の変更が局所的である (3) 評価関数を差分評価するときの差分更新も(un)do関数のタイミングで行う などがある。

今回はundo関数を実装してしまったが、結局使わなかった。全列挙するだけなので差分評価とかは無いわけだが、そういう背景の違いを検討せずになんとなく実装してしまったのだった。
